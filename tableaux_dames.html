<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Tableaux — Dames</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <script>
  if (sessionStorage.getItem("ctl_auth") !== "ok") {
    window.location.href = "login.html";
  }
</script>
  <header class="topbar">
    <div class="topbar-title">Tournoi CTL — Dames</div>
    <nav class="topbar-nav">
      <a href="index.html">Accueil</a>
      <a href="tableau_hommes.html">Tableau hommes</a>
      <a href="consolante_hommes.html">Consolante hommes</a>
      <a href="tableaux_dames.html" class="active">Dames</a>
    </nav>
  </header>

  <main class="page">
    <div class="card page-header-row">
      <div class="page-title-block">
        <h1>Tableaux — Dames</h1>
        <p>
          Poule A (4 joueuses) et Poule B (5 joueuses). Tous les matchs de poule sont listés
          ci-dessous. Les 2 premières de chaque poule vont en demi-finale principale,
          les autres en consolante.
        </p>
      </div>
      <button class="btn-reset" onclick="localStorage.clear(); location.reload();">
        Réinitialiser (Dames)
      </button>
    </div>

    <section class="card">
      <h2>Phases de poules</h2>
      <p class="small-note">Sélection manuelle + scores (2 sets + super tie-break 10 pts)</p>

      <div class="pools-grid">

        <!-- ============================== -->
        <!--          POULE A              -->
        <!-- ============================== -->
        <article class="pool-card">
          <div class="pool-title-row">
            <h2>Poule A</h2>
            <span>4 joueuses</span>
          </div>

          <ul class="pool-list">
            <li><span>Cathy L.</span><span class="rank">A1</span></li>
            <li><span>Marie Thérèse C.</span><span class="rank">A2</span></li>
            <li><span>Clarisse P.</span><span class="rank">A3</span></li>
            <li><span>Fabienne M.</span><span class="rank">A4</span></li>
          </ul>

          <div class="pool-matches-title">Matchs de poule (6 matchs)</div>

          <!-- JOURNÉE 1 -->
          <h3 class="journee-title">Journée 1</h3>

          <!-- A1 vs A2 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">A1 vs A2</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">A1</div>
              <select class="select-player">
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
              </select>

              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">A2</div>
              <select class="select-player">
                <option>Marie Thérèse C. (A2)</option>
                <option>Cathy L. (A1)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
              </select>

              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <!-- A3 vs A4 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">A3 vs A4</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">A3</div>
              <select class="select-player">
                <option>Clarisse P. (A3)</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Fabienne M. (A4)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">A4</div>
              <select class="select-player">
                <option>Fabienne M. (A4)</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <!-- JOURNÉE 2 -->
          <h3 class="journee-title">Journée 2</h3>

          <!-- A1 vs A3 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">A1 vs A3</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">A1</div>
              <select class="select-player">
                <option>Cathy L. (A1)</option>
                <option>Clarisse P. (A3)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Fabienne M. (A4)</option>
              </select>

              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">A3</div>
              <select class="select-player">
                <option>Clarisse P. (A3)</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Fabienne M. (A4)</option>
              </select>

              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <!-- A2 vs A4 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">A2 vs A4</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">A2</div>
              <select class="select-player">
                <option>Marie Thérèse C. (A2)</option>
                <option>Fabienne M. (A4)</option>
                <option>Cathy L. (A1)</option>
                <option>Clarisse P. (A3)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">A4</div>
              <select class="select-player">
                <option>Fabienne M. (A4)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Cathy L. (A1)</option>
                <option>Clarisse P. (A3)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <!-- JOURNÉE 3 -->
          <h3 class="journee-title">Journée 3</h3>

          <!-- A1 vs A4 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">A1 vs A4</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">A1</div>
              <select class="select-player">
                <option>Cathy L. (A1)</option>
                <option>Fabienne M. (A4)</option>
                <option>Clarisse P. (A3)</option>
                <option>Marie Thérèse C. (A2)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">A4</div>
              <select class="select-player">
                <option>Fabienne M. (A4)</option>
                <option>Cathy L. (A1)</option>
                <option>Clarisse P. (A3)</option>
                <option>Marie Thérèse C. (A2)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <!-- A2 vs A3 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">A2 vs A3</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">A2</div>
              <select class="select-player">
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Cathy L. (A1)</option>
                <option>Fabienne M. (A4)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">A3</div>
              <select class="select-player">
                <option>Clarisse P. (A3)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Cathy L. (A1)</option>
                <option>Fabienne M. (A4)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

        </article>

        <!-- ============================== -->
        <!--            POULE B            -->
        <!-- ============================== -->
        <article class="pool-card">
          <div class="pool-title-row">
            <h2>Poule B</h2>
            <span>5 joueuses</span>
          </div>

          <ul class="pool-list">
            <li><span>Carole M.</span><span class="rank">B1</span></li>
            <li><span>Fleur L.</span><span class="rank">B2</span></li>
            <li><span>Patricia S.</span><span class="rank">B3</span></li>
            <li><span>Morgane R.</span><span class="rank">B4</span></li>
            <li><span>Emilie P.</span><span class="rank">B5</span></li>
          </ul>

          <div class="pool-matches-title">Matchs de poule (10 matchs)</div>

          <h3 class="journee-title">Journée 1</h3>

          <!-- B2 vs B5 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">B2 vs B5</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">B2</div>
              <select class="select-player">
                <option>Fleur L. (B2)</option>
                <option>Carole M. (B1)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B5</div>
              <select class="select-player">
                <option>Emilie P. (B5)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <!-- B3 vs B4 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">B3 vs B4</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">B3</div>
              <select class="select-player">
                <option>Patricia S. (B3)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B4</div>
              <select class="select-player">
                <option>Morgane R. (B4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <h3 class="journee-title">Journée 2</h3>

          <!-- B1 vs B5 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">B1 vs B5</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">B1</div>
              <select class="select-player">
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B5</div>
              <select class="select-player">
                <option>Emilie P. (B5)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <!-- B2 vs B3 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">B2 vs B3</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">B2</div>
              <select class="select-player">
                <option>Fleur L. (B2)</option>
                <option>Carole M. (B1)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B3</div>
              <select class="select-player">
                <option>Patricia S. (B3)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <h3 class="journee-title">Journée 3</h3>

          <!-- B1 vs B4 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">B1 vs B4</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">B1</div>
              <select class="select-player">
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B4</div>
              <select class="select-player">
                <option>Morgane R. (B4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <!-- B5 vs B3 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">B5 vs B3</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">B5</div>
              <select class="select-player">
                <option>Emilie P. (B5)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B3</div>
              <select class="select-player">
                <option>Patricia S. (B3)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <h3 class="journee-title">Journée 4</h3>

          <!-- B1 vs B3 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">B1 vs B3</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">B1</div>
              <select class="select-player">
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B3</div>
              <select class="select-player">
                <option>Patricia S. (B3)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <!-- B4 vs B2 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">B4 vs B2</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">B4</div>
              <select class="select-player">
                <option>Morgane R. (B4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B2</div>
              <select class="select-player">
                <option>Fleur L. (B2)</option>
                <option>Carole M. (B1)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <h3 class="journee-title">Journée 5</h3>

          <!-- B1 vs B2 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">B1 vs B2</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">B1</div>
              <select class="select-player">
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B2</div>
              <select class="select-player">
                <option>Fleur L. (B2)</option>
                <option>Carole M. (B1)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

          <!-- B4 vs B5 -->
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">B4 vs B5</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">B4</div>
              <select class="select-player">
                <option>Morgane R. (B4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B5</div>
              <select class="select-player">
                <option>Emilie P. (B5)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>

        </article>
      </div>
    </section>

    <section class="card">
      <h2>Tableau final — Dames</h2>
      <p class="small-note">
        Place ici les deux premières de chaque poule. Tu choisis les noms à la main
        dans les listes déroulantes.
      </p>

      <div class="grid-bracket">
        <section>
          <div class="round-column-title">Demi-finales</div>

        <!-- Demi 1 -->
        <div class="match-card">
          <div class="match-header">
            <div class="match-title">Demi 1</div>
            <div class="match-meta">2 sets · STB 10 pts</div>
          </div>

          <div class="match-row">
            <div class="player-label">A</div>
            <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
            </select>
            <div>
              <input class="score-input" placeholder="S1" />
              <input class="score-input" placeholder="S2" />
              <input class="score-input" placeholder="STB" />
            </div>
          </div>

          <div class="match-row">
            <div class="player-label">B</div>
            <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
            </select>
            <div>
              <input class="score-input" placeholder="S1" />
              <input class="score-input" placeholder="S2" />
              <input class="score-input" placeholder="STB" />
            </div>
          </div>
        </div>

        <!-- Demi 2 -->
        <div class="match-card">
          <div class="match-header">
            <div class="match-title">Demi 2</div>
            <div class="match-meta">2 sets · STB 10 pts</div>
          </div>

          <div class="match-row">
            <div class="player-label">A</div>
            <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
            </select>
            <div>
              <input class="score-input" placeholder="S1" />
              <input class="score-input" placeholder="S2" />
              <input class="score-input" placeholder="STB" />
            </div>
          </div>

          <div class="match-row">
            <div class="player-label">B</div>
            <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
            </select>
            <div>
              <input class="score-input" placeholder="S1" />
              <input class="score-input" placeholder="S2" />
              <input class="score-input" placeholder="STB" />
            </div>
          </div>
        </div>
        </section>

        <section>
          <div class="round-column-title">Finale</div>

        <div class="match-card">
          <div class="match-header">
            <div class="match-title">Finale</div>
            <div class="match-meta">2 sets · STB 10 pts</div>
          </div>

          <div class="match-row">
            <div class="player-label">A</div>
            <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
            </select>
            <div>
              <input class="score-input" placeholder="S1" />
              <input class="score-input" placeholder="S2" />
              <input class="score-input" placeholder="STB" />
            </div>
          </div>

          <div class="match-row">
            <div class="player-label">B</div>
            <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
            </select>
            <div>
              <input class="score-input" placeholder="S1" />
              <input class="score-input" placeholder="S2" />
              <input class="score-input" placeholder="STB" />
            </div>
          </div>
        </div>

        </section>
      </div>
    </section>

    <section class="card">
      <h2>Consolante — Dames</h2>
      <p class="small-note">
        Place ici les joueuses non qualifiées pour la demi-finale principale.
        Tu peux adapter le schéma en fonction du nombre réel d&apos;inscrites.
      </p>

      <div class="grid-bracket">
        <section>
          <div class="round-column-title">Pré-tours</div>

          <div class="match-card">
            <div class="match-header">
              <div class="match-title">Pré-tour 1</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">A</div>
              <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B</div>
              <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>
    
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">Pré-tour 2</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">A</div>
              <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B</div>
              <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>
    
        </section>

        <section>
          <div class="round-column-title">Demies consolante</div>

          <div class="match-card">
            <div class="match-header">
              <div class="match-title">Demi C1</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">A</div>
              <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B</div>
              <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>
    
          <div class="match-card">
            <div class="match-header">
              <div class="match-title">Demi C2</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">A</div>
              <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B</div>
              <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>
    
        </section>

        <section>
          <div class="round-column-title">Finale consolante</div>

          <div class="match-card">
            <div class="match-header">
              <div class="match-title">Finale C</div>
              <div class="match-meta">2 sets · STB 10 pts</div>
            </div>

            <div class="match-row">
              <div class="player-label">A</div>
              <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>

            <div class="match-row">
              <div class="player-label">B</div>
              <select class="select-player">
                <option value="">— Choisir une joueuse —</option>
                <option>Cathy L. (A1)</option>
                <option>Marie Thérèse C. (A2)</option>
                <option>Clarisse P. (A3)</option>
                <option>Fabienne M. (A4)</option>
                <option>Carole M. (B1)</option>
                <option>Fleur L. (B2)</option>
                <option>Patricia S. (B3)</option>
                <option>Morgane R. (B4)</option>
                <option>Emilie P. (B5)</option>
              </select>
              <div>
                <input class="score-input" placeholder="S1" />
                <input class="score-input" placeholder="S2" />
                <input class="score-input" placeholder="STB" />
              </div>
            </div>
          </div>
    
        </section>
      </div>
    </section>
  </main>

  <footer class="footer">
    Club Tennis Liergues — Tableaux dames
  </footer>

  <script>
/* ========= CONFIG ========= */
const BOT_TOKEN = "8556557868:AAH10pbDdT7wEjRKvG3AVEtqhiziENdtuRI";
const CHAT_ID = "-1003368689029";

/* ========= TELEGRAM ========= */
function sendTelegram(message) {
  return fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      chat_id: CHAT_ID,
      text: message
    })
  });
}

/* ========= LOCAL STORAGE ========= */
function saveAllScores(storageKey) {
  const elements = document.querySelectorAll(
    "input.score-input, select.select-player, select.result-select"
  );
  const data = {};
  elements.forEach((el, index) => {
    data[index] = el.value;
  });
  localStorage.setItem(storageKey, JSON.stringify(data));
}

function loadAllScores(storageKey) {
  const saved = localStorage.getItem(storageKey);
  if (!saved) return;
  const data = JSON.parse(saved);
  const elements = document.querySelectorAll(
    "input.score-input, select.select-player, select.result-select"
  );
  elements.forEach((el, index) => {
    if (data[index] !== undefined) el.value = data[index];
  });
}

/* ========= CONFIG POOLS (classement) ========= */
const POOL_CONFIG = {
  A: { codes: ["A1","A2","A3","A4"] },
  B: { codes: ["B1","B2","B3","B4","B5"] }
};

let poolLiIndex = {};

/* Sauvegarde de la correspondance code -> <li> pour chaque poule */
function initPoolLists() {
  poolLiIndex = {};
  document.querySelectorAll(".pool-card").forEach(card => {
    const title = card.querySelector(".pool-title-row h2")?.textContent || "";
    let poolId = null;
    if (title.includes("Poule A")) poolId = "A";
    if (title.includes("Poule B")) poolId = "B";
    if (!poolId) return;

    const ul = card.querySelector(".pool-list");
    if (!ul) return;

    poolLiIndex[poolId] = {};
    ul.querySelectorAll("li").forEach(li => {
      const codeEl = li.querySelector(".rank");
      if (!codeEl) return;
      const code = codeEl.textContent.trim();
      poolLiIndex[poolId][code] = li;
    });
  });
}

/* Trouver la poule à partir d'une match-card */
function getPoolIdFromMatchCard(card) {
  const poolCard = card.closest(".pool-card");
  if (!poolCard) return null;
  const title = poolCard.querySelector(".pool-title-row h2")?.textContent || "";
  if (title.includes("Poule A")) return "A";
  if (title.includes("Poule B")) return "B";
  return null;
}

/* Créer (si besoin) le sélecteur de résultat pour une match-card de poule */
function ensureResultSelect(card) {
  let select = card.querySelector(".result-select");
  if (select) return select;

  const header = card.querySelector(".match-header");
  if (!header) return null;

  const container = document.createElement("div");
  container.className = "match-result-row";

  const label = document.createElement("span");
  label.className = "match-result-label";
  label.textContent = "Vainqueur :";

  select = document.createElement("select");
  select.className = "result-select";

  const opt0 = new Option("— sélectionner —", "");
  const opt1 = new Option("Joueuse du haut", "top");
  const opt2 = new Option("Joueuse du bas", "bottom");
  select.append(opt0, opt1, opt2);

  container.append(label, select);
  header.after(container);

  return select;
}

/* Créer les sélecteurs de résultat pour toutes les matches de poule */
function initPoolResultSelects() {
  document.querySelectorAll(".pool-card .match-card").forEach(card => {
    ensureResultSelect(card);
  });
}

/* Calculer et appliquer le classement dynamique des poules */
function computePoolStandings() {
  const standings = {};

  Object.keys(POOL_CONFIG).forEach(poolId => {
    standings[poolId] = {};
    POOL_CONFIG[poolId].codes.forEach(code => {
      standings[poolId][code] = {
        code,
        played: 0,
        wins: 0,
        losses: 0
      };
    });
  });

  // Parcours des matches de poule
  document.querySelectorAll(".pool-card .match-card").forEach(card => {
    const poolId = getPoolIdFromMatchCard(card);
    if (!poolId || !POOL_CONFIG[poolId]) return;

    const select = card.querySelector(".result-select");
    if (!select || !select.value) return;

    const rows = card.querySelectorAll(".match-row");
    if (rows.length < 2) return;

    const topCode = rows[0].querySelector(".player-label")?.textContent.trim();
    const bottomCode = rows[1].querySelector(".player-label")?.textContent.trim();

    if (!standings[poolId][topCode] || !standings[poolId][bottomCode]) return;

    let winner, loser;
    if (select.value === "top") {
      winner = topCode;
      loser = bottomCode;
    } else if (select.value === "bottom") {
      winner = bottomCode;
      loser = topCode;
    } else {
      return;
    }

    standings[poolId][winner].played++;
    standings[poolId][winner].wins++;
    standings[poolId][loser].played++;
    standings[poolId][loser].losses++;
  });

  // Réordonner les listes UL en fonction des victoires
  Object.keys(standings).forEach(poolId => {
    const poolCard = Array.from(document.querySelectorAll(".pool-card"))
      .find(c => c.querySelector(".pool-title-row h2")?.textContent.includes(`Poule ${poolId}`));
    if (!poolCard) return;

    const ul = poolCard.querySelector(".pool-list");
    if (!ul) return;

    const indexMap = poolLiIndex[poolId];
    if (!indexMap) return;

    const players = Object.values(standings[poolId]);

    players.sort((a, b) => {
      if (b.wins !== a.wins) return b.wins - a.wins;
      if (a.losses !== b.losses) return a.losses - b.losses;
      return a.code.localeCompare(b.code);
    });

    ul.innerHTML = "";
    players.forEach(p => {
      const li = indexMap[p.code];
      if (!li) return;
      let statSpan = li.querySelector(".pool-stat");
      if (!statSpan) {
        statSpan = document.createElement("span");
        statSpan.className = "pool-stat";
        li.appendChild(statSpan);
      }
      statSpan.textContent = ` — ${p.wins}V / ${p.losses}D`;
      ul.appendChild(li);
    });
  });
}

/* ========= BOUTONS PAR MATCH ========= */
function attachMatchButtons(storageKey, label) {
  const cards = document.querySelectorAll(".match-card");

  cards.forEach((card) => {
    // Conteneur actions
    const actions = document.createElement("div");
    actions.className = "match-actions";

    // Bouton enregistrer
    const saveBtn = document.createElement("button");
    saveBtn.type = "button";
    saveBtn.className = "btn-save-match";
    saveBtn.textContent = "Enregistrer le match";

    // Bouton reset
    const resetBtn = document.createElement("button");
    resetBtn.type = "button";
    resetBtn.className = "btn-reset-match";
    resetBtn.textContent = "Réinitialiser";

    actions.appendChild(saveBtn);
    actions.appendChild(resetBtn);
    card.appendChild(actions);

    const poolId = getPoolIdFromMatchCard(card);
    const isPoolMatch = !!poolId;

    // S'il s'agit d'un match de poule, on s'assure que le select résultat existe
    if (isPoolMatch) {
      const resSelect = ensureResultSelect(card);
      if (resSelect) {
        resSelect.addEventListener("change", () => {
          saveAllScores(storageKey);
          computePoolStandings();
        });
      }
    }

    // Click enregistrer
    saveBtn.addEventListener("click", () => {
      const matchTitle =
        card.querySelector(".match-title")?.innerText || "Match inconnu";

      const scoreInputs = card.querySelectorAll("input.score-input");
      const scoreText = Array.from(scoreInputs)
        .map((s) => s.value || "-")
        .join(" / ");

      const selectPlayers = card.querySelectorAll("select.select-player");
      const players = Array.from(selectPlayers)
        .map((s) => s.value || "?")
        .join(" vs ");

      // Sauvegarde globale
      saveAllScores(storageKey);

      // Envoi Telegram
      sendTelegram(
        `🎾 Mise à jour — ${label}\n🏷️ ${matchTitle}\n👥 ${players}\n📊 Score : ${scoreText}`
      );

      // MAJ classement si match de poule
      if (isPoolMatch) {
        computePoolStandings();
      }

      // Feedback visuel
      const oldText = saveBtn.textContent;
      saveBtn.textContent = "✔️ Match enregistré";
      setTimeout(() => (saveBtn.textContent = oldText), 1600);
    });

    // Click reset
    resetBtn.addEventListener("click", () => {
      if (!confirm("Effacer les scores de ce match ?")) return;

      const scoreInputs = card.querySelectorAll("input.score-input");
      scoreInputs.forEach((s) => (s.value = ""));

      const selectPlayers = card.querySelectorAll("select.select-player");
      selectPlayers.forEach((s) => (s.value = ""));

      const resSelect = card.querySelector(".result-select");
      if (resSelect) resSelect.value = "";

      saveAllScores(storageKey);
      if (isPoolMatch) {
        computePoolStandings();
      }
    });
  });
}

/* ========= INIT ========= */
document.addEventListener("DOMContentLoaded", () => {
  const path = window.location.pathname;
  let storageKey = null;
  let label = "";

  if (path.includes("tableau_hommes")) {
    storageKey = "scores_hommes";
    label = "Tableau Hommes";
  } else if (path.includes("consolante_hommes")) {
    storageKey = "scores_consolante_hommes";
    label = "Consolante Hommes";
  } else if (path.includes("tableaux_dames")) {
    storageKey = "scores_dames";
    label = "Tableaux Dames";
  }

  if (!storageKey) return;

  const isDames = path.includes("tableaux_dames");

  if (isDames) {
    initPoolLists();
    initPoolResultSelects();
  }

  loadAllScores(storageKey);
  attachMatchButtons(storageKey, label);

  if (isDames) {
    computePoolStandings();
  }
});
</script>

</body>
</html>
